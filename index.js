//	Module:		main
//	Project:	sq-lib
//	Author:		soviet
//	E-mail:		soviet@s0viet.ru
//	Web:		https://s0viet.ru/

var a=require('path')['dirname'],b=require('path')['join'],c=require('path')['normalize'],d=require('fs')['existsSync'],e=require('fs')['readFileSync'],f={};function g(s){var u=b(s,'package.json'),v=c(s+'/..');return d(u)?s:g(v);}function h(v){var w=b(v,'.paths');if(!d(w))return{};for(var x,y=e(w,{'encoding':'utf8'}),z=/(\$[\w-]+)\s*=\s*(.+)/gm,A={};x=z['exec'](y);){var B=x[0x1],C=x[0x2],D='/'===C?v:b(v,C);A[B]=D;}return A;}function i(s){var u=g(s);return f[u]||(f[u]=h(u)),f[u];}function j(){var s=new Error(),u=/at require \(internal\/module\.js:11:18\)\n.+\((.*):\d+:\d+\)/m;return s['stack']['match'](u)||(u=/at Object\.<anonymous> \((.+):\d+:\d+\)/m),s['stack']['match'](u)[0x1];}function k(s){return function(u){var v=new RegExp(u['replace'](/\\/g,'\x5c\x5c'));return!s['search'](v);};}function l(){var s=a(j()),u=Object['keys'](f)['reverse'](),v=k(s);return u['find'](v);}function m(s){var u=l(),v=b(u,s);return(d(v)||d(c(v+'/..')))&&v;}function n(s){var u=l();if(!u)return!0x1;var v=s['match'](/^\$[\w-]+/)[0x0],w=f[u][v];return s['replace'](v,w);}function o(s){return i(s||j());}var p=require('module'),q=p['prototype']['require'];p['prototype']['require']=function(s){var u=s;return'.'===s[0x0]?q['call'](this,s):(('/'===s[0x0]||s['startsWith']('src/')||s['startsWith']('data/'))&&(u=m(s)||s),'$'===s[0x0]&&(u=n(s)||s),'sexy-require'===s?o():q['call'](this,u));},module['exports']=o(module['parent']['filename']),module['exports']=require('./src/index.js');